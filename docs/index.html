<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #ffffff; color: #1f1c1b; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #ffffff; color: #a0a0a0; border-right: 1px solid #a0a0a0; }
td.sourceCode { padding-left: 5px; }
pre, code { color: #1f1c1b; background-color: #ffffff; }
code > span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code > span.dt { color: #0057ae; } /* DataType */
code > span.dv { color: #b08000; } /* DecVal */
code > span.bn { color: #b08000; } /* BaseN */
code > span.fl { color: #b08000; } /* Float */
code > span.cn { color: #aa5500; } /* Constant */
code > span.ch { color: #924c9d; } /* Char */
code > span.sc { color: #3daee9; } /* SpecialChar */
code > span.st { color: #bf0303; } /* String */
code > span.vs { color: #bf0303; } /* VerbatimString */
code > span.ss { color: #ff5500; } /* SpecialString */
code > span.im { color: #ff5500; } /* Import */
code > span.co { color: #898887; } /* Comment */
code > span.do { color: #607880; } /* Documentation */
code > span.an { color: #ca60ca; } /* Annotation */
code > span.cv { color: #0095ff; } /* CommentVar */
code > span.ot { color: #006e28; } /* Other */
code > span.fu { color: #644a9b; } /* Function */
code > span.va { color: #0057ae; } /* Variable */
code > span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code > span.op { color: #1f1c1b; } /* Operator */
code > span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code > span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code > span.pp { color: #006e28; } /* Preprocessor */
code > span.at { color: #0057ae; } /* Attribute */
code > span.re { color: #0057ae; } /* RegionMarker */
code > span.in { color: #b08000; } /* Information */
code > span.wa { color: #bf0303; } /* Warning */
code > span.al { color: #bf0303; font-weight: bold; } /* Alert */
code > span.er { color: #bf0303; text-decoration: underline; } /* Error */
code > span. { color: #1f1c1b; } /* Normal */
  </style>
  <link rel="stylesheet" href="assets/github-markdown.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="documentary">Documentary</h1>
<p>This is a static website generator with built-in Markdown and Gravhiz support.</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: workflow Pages: 1 -->
<svg width="170pt" height="188pt"
 viewBox="0.00 0.00 170.00 188.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>workflow</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-184 166,-184 166,4 -4,4"/>
<!-- Markdown -->
<g id="node1" class="node"><title>Markdown</title>
<ellipse fill="none" stroke="black" cx="36" cy="-144" rx="36" ry="36"/>
<text text-anchor="middle" x="36" y="-139.8" font-family="Times,serif" font-size="14.00">Markdown</text>
</g>
<!-- Site -->
<g id="node3" class="node"><title>Site</title>
<ellipse fill="none" stroke="black" cx="81" cy="-36" rx="36" ry="36"/>
<text text-anchor="middle" x="81" y="-31.8" font-family="Times,serif" font-size="14.00">Site</text>
</g>
<!-- Markdown&#45;&gt;Site -->
<g id="edge1" class="edge"><title>Markdown&#45;&gt;Site</title>
<path fill="none" stroke="black" d="M49.746,-110.621C53.9809,-100.645 58.7059,-89.5149 63.1738,-78.9907"/>
<polygon fill="black" stroke="black" points="66.497,-80.119 67.1831,-69.5464 60.0536,-77.3836 66.497,-80.119"/>
</g>
<!-- Graph -->
<g id="node2" class="node"><title>Graph</title>
<ellipse fill="none" stroke="black" cx="126" cy="-144" rx="36" ry="36"/>
<text text-anchor="middle" x="126" y="-139.8" font-family="Times,serif" font-size="14.00">Graph</text>
</g>
<!-- Graph&#45;&gt;Site -->
<g id="edge2" class="edge"><title>Graph&#45;&gt;Site</title>
<path fill="none" stroke="black" d="M112.254,-110.621C108.019,-100.645 103.294,-89.5149 98.8262,-78.9907"/>
<polygon fill="black" stroke="black" points="101.946,-77.3836 94.8169,-69.5464 95.503,-80.119 101.946,-77.3836"/>
</g>
</g>
</svg>

<p>Supported Graphivz layouts are:</p>
<figure>
<embed src="layouts.svg" /><figcaption>Layouts</figcaption>
</figure>
<h2 id="installation">Installation</h2>
<p>Install the requirements:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> apt-get install build-essential pandoc graphviz make pip
<span class="ex">pip</span> install pandocfilters</code></pre></div>
<p>It is recommended to use <code>brew</code> for MacOS.</p>
<p>Clone this project from here and remove <code>.git</code> folder:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">git</span> clone git@github.com:/nirname/documentary.git <span class="kw">&amp;&amp;</span> <span class="bu">cd</span> documentary <span class="kw">&amp;&amp;</span> <span class="fu">rm</span> -rf .git</code></pre></div>
<p>... or <a href="https://github.com/nirname/documentary/archive/master.zip">download it</a>.</p>
<h2 id="usage">Usage</h2>
<h3 id="starting">Starting</h3>
<p>Put some <code>*.md</code> files under <code>source/</code> folder and run <code>make</code> from this project's folder.</p>
<p>Everything compiled will be found under <code>docs/</code> folder.</p>
<p>Run webserver via <code>make serve</code> and open <code>localhost:8000</code> in your browser.</p>
<p>Available commands are:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">make</span> clean  # to remove all the compiled pages, equal to rm -rf docs/*
<span class="fu">make</span>        # to build site
<span class="fu">make</span> serve  # to start serving files at localhost:8000
<span class="fu">make</span> watch  # to watch and recompile changes automatically</code></pre></div>
<h3 id="inline-graphs">Inline graphs</h3>
<p>To create embedded graph add specific class to a code block:</p>
<div class="sourceCode"><pre class="sourceCode dot"><code class="sourceCode dot">```<span class="va">dot</span>-<span class="va">graph</span>
<span class="kw">digraph</span> <span class="va">workflow</span> <span class="ot">{</span>
<span class="co">  </span><span class="kw">node</span><span class="co"> </span><span class="ot">[</span><span class="at">shape</span><span class="ot">=</span><span class="st">&quot;circle&quot;</span><span class="co"> </span><span class="at">width</span><span class="ot">=</span><span class="dv">1</span><span class="co"> </span><span class="va">fixedsize</span><span class="ot">=</span><span class="va">true</span><span class="ot">]</span>
<span class="co">  </span><span class="ot">{</span><span class="co"> </span><span class="va">Markdown</span><span class="co">, </span><span class="st">&quot;Graph&quot;</span><span class="co"> </span><span class="ot">}</span><span class="co"> </span><span class="ot">-&gt;</span><span class="co"> </span><span class="va">Site</span>
<span class="ot">}</span>
```</code></pre></div>
<p>This is the very code that produces graph at the top of the page.</p>
<p>Class name must consist of an available Graphviz layout name plus <code>-graph</code> suffix.</p>
<h3 id="external-graphs">External graphs</h3>
<p>To add external graph, put in your project <code>graph.dot</code> with some valid graph inside and write a link to it:</p>
<div class="sourceCode"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span class="al">![Graph](graph.dot)</span></code></pre></div>
<p><code>graph.dot</code> will be converted to <code>graph.svg</code> and links to it will be automatically changed as well.</p>
<p>So as to change layout of the graph change source file extension, e.g. <code>graph.neato</code>.</p>
<p>Don't forget to change link to the graph to <code>![Graph](graph.neato)</code>.</p>
<p>This might be convenient if the graph is too big for inline usage.</p>
<h3 id="styles">Styles</h3>
<p><a href="https://github.com/sindresorhus/github-markdown-css">Github Markdown styles</a> are built in.</p>
<h3 id="code-highlighting">Code highlighting</h3>
<p>Common package of <a href="https://highlightjs.org/download/">highlightjs</a> is used.</p>
<h2 id="acknowledgements">Acknowledgements</h2>
<p>The very idea of implementation is borrowed from <a href="https://tylercipriani.com/blog/2014/05/13/replace-jekyll-with-pandoc-makefile/">here</a></p>
<p>The idea of using inline <code>dot</code> graphs shamelessly taken from <a href="https://gitlab.com/meonkeys/pandoc-dot-svg-hack/tree/master">here</a></p>
</body>
</html>
