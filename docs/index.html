<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <style type="text/css">code{white-space: pre;}</style>

  <!-- JS -->
  <script src="assets/highlight.min.js"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="assets/github-markdown.css">
  <link rel="stylesheet" href="assets/documentary.css">
  <link rel="stylesheet" href="assets/highlight.css">
</head>
<body>
  <article class="markdown-body">
<h1 id="documentary">Documentary</h1>
<p>This is a static website generator with built-in Markdown and Gravhiz support.</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: workflow Pages: 1 -->
<svg width="170pt" height="188pt"
 viewBox="0.00 0.00 170.00 188.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>workflow</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-184 166,-184 166,4 -4,4"/>
<!-- Markdown -->
<g id="node1" class="node"><title>Markdown</title>
<ellipse fill="none" stroke="black" cx="36" cy="-144" rx="36" ry="36"/>
<text text-anchor="middle" x="36" y="-139.8" font-family="Times,serif" font-size="14.00">Markdown</text>
</g>
<!-- Site -->
<g id="node3" class="node"><title>Site</title>
<ellipse fill="none" stroke="black" cx="81" cy="-36" rx="36" ry="36"/>
<text text-anchor="middle" x="81" y="-31.8" font-family="Times,serif" font-size="14.00">Site</text>
</g>
<!-- Markdown&#45;&gt;Site -->
<g id="edge1" class="edge"><title>Markdown&#45;&gt;Site</title>
<path fill="none" stroke="black" d="M49.746,-110.621C53.9809,-100.645 58.7059,-89.5149 63.1738,-78.9907"/>
<polygon fill="black" stroke="black" points="66.497,-80.119 67.1831,-69.5464 60.0536,-77.3836 66.497,-80.119"/>
</g>
<!-- Graph -->
<g id="node2" class="node"><title>Graph</title>
<ellipse fill="none" stroke="black" cx="126" cy="-144" rx="36" ry="36"/>
<text text-anchor="middle" x="126" y="-139.8" font-family="Times,serif" font-size="14.00">Graph</text>
</g>
<!-- Graph&#45;&gt;Site -->
<g id="edge2" class="edge"><title>Graph&#45;&gt;Site</title>
<path fill="none" stroke="black" d="M112.254,-110.621C108.019,-100.645 103.294,-89.5149 98.8262,-78.9907"/>
<polygon fill="black" stroke="black" points="101.946,-77.3836 94.8169,-69.5464 95.503,-80.119 101.946,-77.3836"/>
</g>
</g>
</svg>

<p>Supported Graphivz layouts are:</p>
<figure>
<embed src="layouts.svg" /><figcaption>Layouts</figcaption>
</figure>
<h2 id="installation">Installation</h2>
<p>Install the requirements:</p>
<pre class="shell"><code>sudo apt-get install build-essential pandoc graphviz make pip
pip install pandocfilters</code></pre>
<p>It is recommended to use <code>brew</code> for MacOS.</p>
<p>Clone this project from here and remove <code>.git</code> folder:</p>
<pre class="shell"><code>git clone git@github.com:/nirname/documentary.git &amp;&amp; cd documentary &amp;&amp; rm -rf .git</code></pre>
<p>... or <a href="https://github.com/nirname/documentary/archive/master.zip">download it</a>.</p>
<h2 id="usage">Usage</h2>
<h3 id="starting">Starting</h3>
<p>Put some <code>*.md</code> files under <code>source/</code> folder and run <code>make</code> from this project's folder.</p>
<p>Everything compiled will be found under <code>docs/</code> folder.</p>
<p>Run webserver via <code>make serve</code> and open <code>localhost:8000</code> in your browser.</p>
<p>Available commands are:</p>
<pre class="shell"><code>make clean  # to remove all the compiled pages, equal to rm -rf docs/*
make        # to build site
make serve  # to start serving files at localhost:8000
make watch  # to watch and recompile changes automatically</code></pre>
<h3 id="external-graphs">External graphs</h3>
<p>To add graph, put in your project <code>graph.dot</code> with some valid graph inside and write a link to it:</p>
<div class="sourceCode"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span class="al">![Graph](graph.dot)</span></code></pre></div>
<p><code>graph.dot</code> will be converted to <code>graph.svg</code> and links to it will be automatically changed as well.</p>
<p>So as to change layout of the graph change source file extension, e.g. <code>graph.neato</code>.</p>
<p>Don't forget to change link to the graph to <code>graph.neato</code></p>
<h3 id="inline-graphs">Inline graphs</h3>
<p>It is also possible to write embedded graphs setting specific class to a code block:</p>
<pre><code>```dot-graph
digraph workflow {
  node [shape=&quot;circle&quot; width=1 fixedsize=true]
  { Markdown, &quot;Graph&quot; } -&gt; Site
}
```</code></pre>
<p>This is the very code that produces graph at the top of the page.</p>
<p>Class name must consist of an available Graphviz layout name plus <code>-graph</code> suffix.</p>
<h3 id="publishing-on-gh-pages">Publishing on GH-Pages</h3>
<h3 id="styles">Styles</h3>
<p><a href="https://github.com/sindresorhus/github-markdown-css">Github Markdown styles</a> are built in.</p>
<h3 id="code-highlighting">Code highlighting</h3>
<p>Common package of <a href="https://highlightjs.org/download/">highlightjs</a> is used.</p>
<h2 id="acknowledgements">Acknowledgements</h2>
<p>The very idea of implementation is borrowed from <a href="https://tylercipriani.com/blog/2014/05/13/replace-jekyll-with-pandoc-makefile/">here</a></p>
<p>The idea of using inline <code>dot</code> graphs shamelessly taken from <a href="https://gitlab.com/meonkeys/pandoc-dot-svg-hack/tree/master">here</a></p>
  </article>
  <script src="assets/documentary.js"></script>
</body>
</html>
